server:
  # 服务器端口配置
  port: 8081
  servlet:
    context-path: /
  tomcat:
    uri-encoding: UTF-8
    max-threads: 200
    min-spare-threads: 10

spring:
  application:
    # 应用名称
    name: hospital-system

  # 解决 Swagger 与 Spring Boot 2.6+ 兼容性问题
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher

  # 数据源配置 - MySQL
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/hospital_system?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: 123456
    # HikariCP 连接池配置
    hikari:
      minimum-idle: 5
      maximum-pool-size: 20
      auto-commit: true
      idle-timeout: 30000
      pool-name: HikariCP
      max-lifetime: 1800000
      connection-timeout: 30000
      connection-test-query: SELECT 1

  # Jackson 配置
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
    default-property-inclusion: non_null

  # 文件上传配置
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 100MB

# 文件上传配置
file:
  upload:
    path: upload
    url-prefix: /upload

# MyBatis-Plus 配置（如果使用 MyBatis-Plus）
mybatis-plus:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.template.entity
  global-config:
    db-config:
      # 主键类型
      id-type: auto
      # 逻辑删除字段
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# 日志配置
logging:
  level:
    root: INFO
    com.template: DEBUG
    org.springframework.web: DEBUG
    org.mybatis: DEBUG
  pattern:
    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'
    file: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'
  file:
    # 日志文件路径
    path: ./logs
    name: ./logs/application.log
    max-size: 10MB
    max-history: 30

# Swagger 文档配置（如果使用 Swagger）
swagger:
  enable: true
  application-name: ${spring.application.name}
  application-version: 1.0
  application-description: API 接口文档

# JWT 配置
jwt:
  # 密钥（至少32位，生产环境请修改为复杂字符串）
  secret: your-secret-key-must-be-at-least-256-bits-long-for-hs256
  # 过期时间（单位：毫秒，默认7天）
  expiration: 604800000