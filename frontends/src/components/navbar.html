<!-- å¯¼èˆªæ ç»„ä»¶ -->
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="dashboard.html">
            ğŸ¥ åŒ»é™¢é—¨è¯Šç®¡ç†ç³»ç»Ÿ
            <small class="ms-2 opacity-75" id="role-indicator">[ç®¡ç†å‘˜]</small>
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto" id="main-nav">
                <!-- æ‚£è€…ç«¯å¯¼èˆª -->
                <li class="nav-item patient-nav">
                    <a class="nav-link" href="../patient/dashboard.html">æ‚£è€…é¦–é¡µ</a>
                </li>
                <li class="nav-item patient-nav">
                    <a class="nav-link" href="../patient/appointment.html">æŒ‚å·é¢„çº¦</a>
                </li>
                <li class="nav-item patient-nav">
                    <a class="nav-link" href="../patient/medical-records.html">å°±è¯Šè®°å½•</a>
                </li>
                
                <!-- ç®¡ç†å‘˜ç«¯å¯¼èˆª -->
                <li class="nav-item admin-nav">
                    <a class="nav-link" href="dashboard.html">ç®¡ç†é¦–é¡µ</a>
                </li>
                <li class="nav-item admin-nav">
                    <a class="nav-link" href="staff-management.html">èŒå·¥ç®¡ç†</a>
                </li>
                <li class="nav-item admin-nav">
                    <a class="nav-link" href="finance-center.html">è´¢åŠ¡ä¸­å¿ƒ</a>
                </li>
            </ul>
            
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        ğŸ‘¤ <span id="user-name">ç®¡ç†å‘˜</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="profile.html">ä¸ªäººè®¾ç½®</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item" href="#" onclick="switchRole('patient')">åˆ‡æ¢åˆ°æ‚£è€…è§†å›¾</a>
                            <a class="dropdown-item" href="#" onclick="switchRole('admin')">åˆ‡æ¢åˆ°ç®¡ç†å‘˜è§†å›¾</a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="../patient/login.html">é€€å‡ºç™»å½•</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
    // æ ¹æ®å½“å‰é¡µé¢æ˜¾ç¤ºå¯¹åº”çš„å¯¼èˆªé¡¹
    function updateNavigation() {
        const isAdminPage = window.location.pathname.includes('/admin/');
        const isPatientPage = window.location.pathname.includes('/patient/');
        
        if (isAdminPage) {
            document.querySelectorAll('.patient-nav').forEach(nav => nav.style.display = 'none');
            document.querySelectorAll('.admin-nav').forEach(nav => nav.style.display = 'block');
            document.getElementById('role-indicator').textContent = '[ç®¡ç†å‘˜]';
            document.getElementById('user-name').textContent = 'ç®¡ç†å‘˜';
        } else if (isPatientPage) {
            document.querySelectorAll('.patient-nav').forEach(nav => nav.style.display = 'block');
            document.querySelectorAll('.admin-nav').forEach(nav => nav.style.display = 'none');
            document.getElementById('role-indicator').textContent = '[æ‚£è€…]';
            document.getElementById('user-name').textContent = 'æ‚£è€…';
        }
    }
    
    function switchRole(role) {
        if (role === 'patient') {
            window.location.href = '../patient/dashboard.html';
        } else if (role === 'admin') {
            window.location.href = 'dashboard.html';
        }
    }
    
    // é¡µé¢åŠ è½½æ—¶æ›´æ–°å¯¼èˆª
    document.addEventListener('DOMContentLoaded', updateNavigation);
</script>